# ğŸ“š TCP vs UDP

## ğŸ“• OSI 7ê³„ì¸µ (Open System Interconnection 7 Layer)

OSI 7ê³„ì¸µì€ êµ­ì œ í‘œì¤€ê¸°êµ¬ì€ ISO(International Standard Organization)ìœ¼ë¡œë¶€í„° íƒ„ìƒí•¨. ì²˜ìŒ ë„¤íŠ¸ì›Œí¬ ì¥ì¹˜ëŠ” íšŒì‚¬ì˜ ì¥ë¹„ë§ˆë‹¤ í˜¸í™˜ì´ ë˜ì§€ ì•Šìœ¼ë©° êµ¬ì„±ì´ ë³µì¡í•˜ì—¬ ì¤‘êµ¬ë‚œë°©ì´ì—ˆìŒ. ì´ì— ë”°ë¼ ë„¤íŠ¸ì›Œí¬ë¥¼ 7ê³„ì¸µìœ¼ë¡œ ë¶„ë¦¬í•˜ë©´ì„œ í‘œì¤€ì„ ë§Œë“¤ê²Œ ë¨ 
![osi7](../../image/osi7.png)
ê·¸ë¦¼ì„ ë³´ë©´ ìœ„ì—ì„œë¶€í„° ì°¨ë¡€ë¡œ ë‚´ë ¤ì˜¤ë©´ì„œ í—¤ë”ê°€ ë¶™ëŠ” ê²ƒì„ ë³¼ìˆ˜ ìˆìŒ. **ê°ê³„ì¸µì—ì„œëŠ” ìƒìœ„ ê³„ì¸µì˜ í—¤ë”ì™€ ë°ì´í„°ë¥¼ ë°ì´í„°ë¡œ ê°„ì£¼í•˜ê³  ìì‹ ì˜ í—¤ë”ë¥¼ ë¶™ì—¬ ì•„ë˜ ê³„ì¸µì— ì „ì†¡í•¨(Encapsulation)**. ì´ëŸ°ì‹ìœ¼ë¡œ ë¬¼ë¦¬ê³„ì¸µê¹Œì§€ ê°€ê²Œë˜ë©´ 0ê³¼ 1ì˜ ì´ì§„ë¹„íŠ¸ê°€ ì „ì†¡ë˜ê²Œ ë¨. ìˆ˜ì‹ ì€ ë°˜ëŒ€ë¡œ ì¼ì–´ë‚¨(Decapsulation)

### 1. Physical Layer

* 7ê³„ì¸µ ì¤‘ ìµœí•˜ìœ„ ê³„ì¸µìœ¼ë¡œ ì£¼ë¡œ ì „ê¸°ì , ê¸°ê³„ì , ê¸°ëŠ¥ì ì¸ íŠ¹ì„±ì„ ì´ìš©í•´ ë°ì´í„°ë¥¼ ì „ì†¡

### 2. Data-Link Layer
    
* ë¬¼ë¦¬ ê³„ì¸µì—ì„œ ì†¡ìˆ˜ì‹ ë˜ëŠ” ì •ë³´ì˜ ì˜¤ë¥˜ì™€ íë¦„ì„ ê´€ë¦¬í•˜ì—¬ ì•ˆì „í•œ ì •ë³´ì˜ ì „ë‹¬ì„ ë„ì›€
* MACì£¼ì†Œë¥¼ ê°€ì§€ê³ ìˆì–´ í†µì‹ ì„ ê°€ëŠ¥í•˜ê²Œ í•¨
* ì´ ê³„ì¸µì—ì„œ ë¶€ë¥´ëŠ” ë°ì´í„°ì˜ ë‹¨ìœ„ë¥¼ í”„ë ˆì„(Frame)ì´ë¼ê³  í•¨

### 3. Network Layer
    
* ìµœì ì˜ ê²½ë¡œë¥¼ ì„¤ì •í•˜ì—¬ ëª©ì ì§€ê¹Œì§€ ê°€ì¥ ì•ˆì „í•˜ê³  ë¹ ë¥´ê²Œ ë°ì´í„°ë¥¼ ë³´ë‚´ëŠ” ì•„ì£¼ ì¤‘ìš”í•œ ê¸°ëŠ¥(**ë¼ìš°íŒ…(Routing)**)ì„ í•¨
* IPì£¼ì†Œê°€ ì´ ê³„ì¸µì˜ í—¤ë”ì— ì†í•´ìˆìŒ
* ë„¤íŠ¸ì›Œí¬ ê³„ì¸µì—ì„œ ë¶€ë¥´ëŠ” ë°ì´í„°ì˜ ë‹¨ìœ„ë¥¼ íŒ¨í‚·(Packet)ì´ë¼ê³  í•¨
    
### 4. Transport Layer

* ì–‘ëë‹¨ì— ìˆëŠ” ì‚¬ìš©ìê°€ ì‹ ë¢°ì„± ìˆëŠ” ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ê²Œ í•´ì£¼ëŠ” ì—­í• ì„ í•¨
* ì˜¤ë¥˜ê²€ì¶œ ë° ë³µêµ¬, íë¦„ì œì–´ì™€ ì¤‘ë³µê²€ì‚¬ë¥¼ ìˆ˜í–‰
* ë°ì´í„° ì „ì†¡ì„ ìœ„í•´ì„œ Portë²ˆí˜¸ê°€ ì‚¬ìš©ë˜ëŠ”ë° ëŒ€í‘œì ì¸ í”„ë¡œí† ì½œë¡œ TCPì™€ UDPê°€ ìˆìŒ
* ì´ ê³„ì¸µì—ì„œ ì‚¬ìš©ë˜ëŠ” ë°ì´í„°ë‹¨ìœ„ë¥¼ ì„¸ê·¸ë¨¼íŠ¸(Segment)ë¼ê³  í•¨

### 5. Session Layer

* ì‘ìš© í”„ë¡œì„¸ìŠ¤ê°€ í†µì‹ ì„ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ë°©ë²• ì •ì˜

### 6. Presentation Layer

* ë°ì´í„°ë¥¼ ì–´ë–»ê²Œ í‘œí˜„í• ì§€ ì •í•˜ëŠ” ì¼ì¢…ì˜ í™•ì¥ì ì—­í• ì„ í•¨
    * ì‘ìš©ê³„ì¸µ ë°ì´í„° ë¶€í˜¸í™”, ë³€í™”
    * ë°ì´í„° ì••ì¶•
    * ë°ì´í„° ì•”í˜¸í™”, ë³µí˜¸í™”

### 7. ì‘ìš©ê³„ì¸µ

* ì‚¬ìš©ìì™€ ê°€ì¥ ê°€ê¹Œìš´ ê³„ì¸µ
* ì‚¬ìš©í•˜ëŠ” ì‘ìš©ì„œë¹„ìŠ¤ë‚˜ í”„ë¡œì„¸ìŠ¤ê°€ ì´ ê³„ì¸µì—ì„œ ë™ì‘

## ğŸ“— TCP/IP ê³„ì¸µ ê¸°ë³¸ ê°œë…

ì¸í„°ë„· í”„ë¡œê·¸ë¨ë“¤ì´ ì„œë¡œ í†µì‹ í•˜ëŠ”ë° ìˆì–´ ì—¬ëŸ¬ **í”„ë¡œí† ì½œ**ì´ ìˆìŒ. ëŒ€í‘œì ì¸ í”„ë¡œí† ì½œë¡œ IPê°€ ìˆìŒ. TCP/IPëŠ” ê³„ì¸µì´ ì•„ë‹ˆë¼ í”„ë¡œí† ì½œì´ë¼ëŠ” ê²ƒì´ ì¤‘ìš”í•¨. TCP/IPëŠ” OSI7ê³„ì¸µê³¼ ì¡°ê¸ˆì€ ë‹¤ë¥¸ TCP/IPì˜ êµ¬ì¡°ì ì¸ ê³„ì¸µ ìœ„ì—ì„œ ë™ì‘í•¨

![tcp_ip_7](../../image/tcp_ip_7.png)

### 1. ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ ê³„ì¸µ (Network Interface Layer)

* Node-to-Nodeê°„ ì‹ ë¢°ì„±ìˆëŠ” ë°ì´í„° ì „ì†¡ì„ ë‹´ë‹¹
* MAC ì£¼ì†Œê°€ ì‚¬ìš©ë˜ê³ , LANì¹´ë“œê°€ ë™ì‘
* ì£¼ìš” í”„ë¡œí† ì½œ
    * LAN - Ethernet, TokenRing, FDDI ë“±
    * WAN - X.25, Frame Relay, PPP ë“±

### 2. ì¸í„°ë„· ê³„ì¸µ (Internet Layer)

* í˜¸ìŠ¤íŠ¸ê°„ ë¼ìš°íŒ… ë‹´ë‹¹
* ì£¼ìš” í”„ë¡œí† ì½œ
    * IP(Internet Protocol): ë¹„ì‹ ë¢°ì„±, ë¹„ì—°ê²°ì§€í–¥ í”„ë¡œí† ì½œ
    * ARP(Address Resolution Protocol): IPì£¼ì†Œë¥¼ MACì£¼ì†Œë¡œ ë³€í™˜í•˜ëŠ” í”„ë¡œí† ì½œ
    * RARP(Reverse ARP): ARPì™€ ë°˜ëŒ€
    * ICMP(Internet Control Message Protocol): ìƒíƒœì§„ë‹¨ ë©”ì‹œì§€ í”„ë¡œí† ì½œ, ëŒ€í‘œì ì¸ í”„ë¡œê·¸ë¨ì´ ping
    * IGMP(Internet Group Message Protocol): ë©€í‹°ìºìŠ¤íŒ…ìš© í”„ë¡œí† ì½œ
    
### 3. ì „ì†¡ ê³„ì¸µ (Transport Layer)

* í”„ë¡œì„¸ìŠ¤ê°„ì˜ ì‹ ë¢°ì„± ìˆëŠ” ë°ì´í„° ì „ì†¡ì„ ë‹´ë‹¹
* process-to-process ì „ì†¡ì„ ë‹´ë‹¹í•˜ê¸° ìœ„í•´ ë…¼ë¦¬ì  ì£¼ì†Œ(Port ë²ˆí˜¸)ì‚¬ìš©
* ì£¼ìš” í”„ë¡œí† ì½œ
    * TCP(Transmission Control Protocol): ì‹ ë¢°ì„±ìˆëŠ” ì—°ê²°ì§€í–¥í˜• í”„ë¡œí† ì½œ, ë³µì¡í•œ í—¤ë”êµ¬ì¡°
    * UDP(User Datagram Protocol): ë¹„ì‹ ë¢°ì„±, ë¹„ì—°ê²°í˜• í”„ë¡œí† ì½œ, ê°„ë‹¨í•œ í—¤ë”êµ¬ì¡°

### 4. ì‘ìš© ê³„ì¸µ (Application Layer)

* ì‚¬ìš©ìì™€ ê°€ì¥ ê°€ê¹Œìš´ ê³„ì¸µ
* ì„œë²„ë‚˜ í´ë¼ì´ì–¸íŠ¸ ì‘ìš©í”„ë¡œê·¸ë¨(ë¸Œë¼ìš°ì €, í…”ë„·ë“±ì˜ ì„œë¹„ìŠ¤)ì´ ë™ì‘í•˜ê³  ì´ë¥¼ ìœ„í•´ ì „ì†¡ê³„ì¸µì˜ ì£¼ì†Œ, ì¦‰ í¬íŠ¸ë²ˆí˜¸ ì‚¬ìš©
* ì£¼ìš” í”„ë¡œí† ì½œ
    * HTTP (Hyper-Text Transfer Protocol): TCPê¸°ë°˜ì˜ í”„ë¡œí† ì½œë¡œ 80ë²ˆ ì‚¬ìš©
    * Telnet: TCPí¬íŠ¸ë²ˆí˜¸ 23ë²ˆ ì‚¬ìš©. ì›ê²©í„°ë¯¸ë„ ì ‘ì†í• ë•Œ ì‚¬ìš©
    * SSH(Secure Shell): í…”ë„·ê³¼ ê°™ì€ ì„œë¹„ìŠ¤ëŠ” ë³´ì•ˆì—ì·¨ì•½. ë¹„ë°€ë²ˆí˜¸ê°€ ì•”í˜¸í™” ë˜ì§€ì•Šê¸°ë•Œë¬¸. ì´ê²ƒì„ ë³´ì™„í•œ ê²ƒì„. 22ë²ˆ ì‚¬ìš©
    * FTP(File Transfer Protocol): íŒŒì¼ì „ì†¡ í”„ë¡œí† ì½œ. íŒŒì¼ì„ ë°›ê±°ë‚˜ ì˜¬ë¦´ë•Œ FTPë¥¼ ì‚¬ìš©. ì‹ ë¢°ì„±ì„ ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ê¸° ë•Œë¬¸ì— TCPì‚¬ìš©. í¬íŠ¸ëŠ” 20ë²ˆ-ë°ì´í„°ì „ì†¡ìš©, 21ë²ˆ-ì œì–´ìš©ìœ¼ë¡œ ì‚¬ìš©
    * POP3(Post Office Protocol Version3): ë©”ì¼ ìˆ˜ì‹ ìš© í”„ë¡œí† ì½œ. ì•„ì›ƒë£©ê°™ì€ í”„ë¡œê·¸ë¨ì´ POP3ë¼ëŠ” í”„ë¡œí† ì½œì„ ì‚¬ìš©í•˜ì—¬ ë™ì‘. TCP í¬íŠ¸ 110ë²ˆ ì‚¬ìš©
    * DNS(Domain Name System): ë„ë©”ì¸ëª…ì— ëŒ€í•œ í˜¸ìŠ¤íŠ¸ ì •ë³´ë¥¼ ì œê³µ. UDPìƒì—ì„œ ë™ì‘. ì‹ ë¢°ì„±ì„ ìš”í•  ê²½ìš° ë˜ëŠ” ë°ì´í„°ì˜ ê¸¸ì´ê¸° ê¸¸ê²½ìš°ì—ëŠ” TCPìƒì—ì„œë„ ë™ì‘. UDP, TCP í¬íŠ¸ 53ë²ˆ ì‚¬ìš© 

-> ìœ„ì™€ê°™ì´ íŠ¹ì • í”„ë¡œí† ì½œì´ ì‚¬ìš©í•´ì„œ ìš°ë¦¬ê°€ ì“¸ìˆ˜ì—†ëŠ” í¬íŠ¸ë¥¼ well-known portë¼ê³  í•¨

## ğŸ“˜ TCP (Transmission Control Protocol)

IPì— ì˜í•´ ì „ë‹¬ë˜ëŠ” íŒ¨í‚·ì˜ ì˜¤ë¥˜ë¥¼ ê²€ì‚¬í•˜ê³  ì¬ì „ì†¡ ìš”êµ¬ë“±ì˜ ì œì–´ë¥¼ ë‹´ë‹¹í•˜ëŠ” ê³„ì¸µì¸ ì „ì†¡ê³„ì¸µì—ì„œ ì‚¬ìš©ë˜ëŠ” í”„ë¡œí† ì½œ

![tcp_example](../../image/tcp_example.png)

### 1. íŠ¹ì§•

* ì—°ê²°í˜• ì„œë¹„ìŠ¤ë¡œ ê°€ìƒ íšŒì„  ë°©ì‹ì„ ì œê³µ
    * 3-way handshaking ê³¼ì •ì„ í†µí•´ ì—°ê²°ì„ ì„¤ì •
    * 4-way handshaking ì„ í†µí•´ ì—°ê²°ì„ í•´ì œ

* íë¦„ì œì–´ (Flow control)
    * ë°ì´í„° ì²˜ë¦¬ì†ë„ë¥¼ ì¡°ì ˆí•˜ì—¬ ìˆ˜ì‹ ìì˜ ë²„í¼ ì˜¤ë²„í”Œë¡œìš°ë¥¼ ë°©ì§€
        * ì†¡ì‹ í•˜ëŠ” ê³³ì´ ê°ë‹¹ ì•ˆë˜ê²Œ ë§ì€ ë°ì´í„°ë¥¼ ë¹ ë¥´ê²Œ ë³´ë‚´ ìˆ˜ì‹ í•˜ëŠ” ê³³ì—ì„œ ë¬¸ì œê°€ ì¼ì–´ë‚˜ëŠ” ê²ƒì„ ë°©ì§€

* í˜¼ì¡ì œì–´ (Congestion control)
    * ë„¤íŠ¸ì›Œí¬ ë‚´ì˜ íŒ¨í‚· ìˆ˜ê°€ ë„˜ì¹˜ê²Œ ì¦ê°€í•˜ì§€ ì•Šë„ë¡ ë°©ì§€
        * ì •ë³´ì˜ ì†Œí†µëŸ‰ì´ ê³¼ë‹¤í•˜ë©´ íŒ¨í‚·ì„ ì¡°ê¸ˆë§Œ ì „ì†¡í•˜ì—¬ í˜¼ì¡ ë¶•ê´´ í˜„ìƒì´ ì¼ì–´ë‚˜ëŠ” ê²ƒì„ ë§‰ìŒ

* ì‹ ë¢°ì„± ë†’ì€ ì „ì†¡ (reliable transmission)
    * Dupack-based retransmission
        * ì •ìƒì ì¸ ìƒí™©ì—ì„œëŠ” **ACK** ê°’ì´ ì—°ì†ì ìœ¼ë¡œ ì „ì†¡ë˜ì–´ì•¼í•¨
        * **ACK**ê°’ì´ ì¤‘ë³µìœ¼ë¡œ ì˜¬ ê²½ìš° íŒ¨í‚· ì´ìƒì„ ê°ì§€í•˜ê³  ì¬ì „ì†¡ì„ ìš”ì²­
    * Timeout-based retransmission
        * ì¼ì •ì‹œê°„ë™ì•ˆ **ACK**ê°’ì„ ìˆ˜ì‹ í•˜ì§€ ëª»í•  ê²½ìš° ì¬ì „ì†¡ ìš”ì²­

* ì „ì´ì¤‘, ì ëŒ€ì  ë°©ì‹
    * ì „ì´ì¤‘ (Full-Duplex) -> ì „ì†¡ì´ ì–‘ë°©í–¥ìœ¼ë¡œ ë™ì‹œì— ì¼ì–´ë‚  ìˆ˜ ìˆìŒ
    * ì ëŒ€ì  (Point ti Point) -> ê° ì—°ê²°ì´ ì •í™•íˆ 2ê°œì˜ ì¢…ë‹¨ì ì„ ê°€ì§

* ë©€í‹°ìºìŠ¤íŒ…ì´ë‚˜ ë¸Œë¡œë“œìºìŠ¤íŒ…ì„ ì§€ì›í•˜ì§€ ì•ŠìŒ

### 2. Header
ì‘ìš© ê³„ì¸µìœ¼ë¡œë¶€í„° ë°ì´í„°ë¥¼ ë°›ì€ TCPëŠ” `í—¤ë”`ë¥¼ ì¶”ê°€í•œ í›„ ì´ë¥¼ IPë¡œ ë³´ëƒ„. í—¤ë”ì—ëŠ” ì•„ë˜ í‘œì™€ ê°™ì€ ì •ë³´ê°€ í¬í•¨ë¨

![tcp_header](../../image/tcp_header.png)

## ğŸ“— UDP (User Datagram Protocol)

![udp_example](../../image/udp_example.png)

### 1. íŠ¹ì§•

* ìˆ˜ì‹ ìê°€ ë°ì´í„°ë¥¼ ë°›ëŠ”ì§€ ë§ˆëŠ”ì§€ ê´€ì‹¬ ì—†ìŒ

* ì‹ ë¢°ì„±ì„ ë³´ì¥í•´ ì£¼ì§€ì•Šì§€ë§Œ ê°„ë‹¨í•˜ê³  ì†ë„ê°€ ë¹ ë¦„

### 2. Header

![udp_header](../../image/udp_header.png)

## âš–ï¸ TCP vs UDP

### 1. ê³µí†µì 

![tcp_udp_common](../../image/tcp_udp_common.png)

### 2. ì°¨ì´ì 

![tcp_udp_difference](../../image/tcp_udp_difference.png)

## âš™ï¸ Referece
* [TCP ì™€ UDP ì°¨ì´ë¥¼ ìì„¸íˆ ì•Œì•„ë³´ì](https://velog.io/@hidaehyunlee/TCP-%EC%99%80-UDP-%EC%9D%98-%EC%B0%A8%EC%9D%B4)
* [MyCloud](https://swalloow.tistory.com/77)
* [ê¸°íƒ€ TCP / UDPì˜ ê°œë…ê³¼ íŠ¹ì§•, ì°¨ì´ì ](https://coding-factory.tistory.com/614)
* [TCPì™€ UDP ì°¨ì´ ê·¸ë¦¬ê³  TCP/IP](https://madplay.github.io/post/network-tcp-udp-tcpip)
* [TCPì™€ UDPì˜ ì°¨ì´ - livlikwav ê°œë°œ ë¸”ë¡œê·¸](https://livlikwav.github.io/study/tcp-and-udp/)
* [OSI-7 ê¸°ë³¸ê°œë…, ê° ê³„ì¸µ ì„¤ëª…](https://reakwon.tistory.com/59?category=300675)
